---
description: Gitflow Workflow Rules. These rules apply to all git operations in this repository.
globs: "**/*"
---

# Gitflow Workflow Rules

## Main Branches

### main (or master)
- Contains production-ready code
- NEVER commit directly to main
- Only accepts merges from:
  - hotfix/* branches
  - release/* branches
- Must be tagged with a version number after each merge

### develop
- Main development branch
- Contains latest delivered development changes
- Source branch for feature branches
- NEVER commit directly to develop

## Supporting Branches

### feature/*
- Branch from: develop
- Merge back into: develop
- Naming convention: feature/[issue-id]-descriptive-name
- Example: feature/123-user-authentication
- Must be up to date with develop before creating a PR
- Delete after merge

### release/*
- Branch from: develop
- Merge back into:
  - main
  - develop
- Naming convention: release/vX.Y.Z
- Example: release/v1.2.0
- ONLY bug fixes, documentation, and release-oriented tasks
- NO new features
- Delete after merge

### hotfix/*
- Branch from: main
- Merge back into:
  - main
  - develop
- Naming convention: hotfix/vX.Y.Z
- Example: hotfix/v1.2.1
- ONLY for urgent production fixes
- Delete after merge

## Commit Messages

- Format: `type(scope): description`
- Types:
  - feat: New feature
  - fix: Bug fix
  - docs: Documentation changes
  - style: Formatting only
  - refactor: Code refactoring (ONLY when explicitly requested)
  - test: Adding or updating tests
  - chore: Maintenance tasks

## Semantic Versioning

- MAJOR: incompatible API changes
- MINOR: backwards-compatible features
- PATCH: backwards-compatible bug fixes

## Pull Request Rules

1. All changes MUST go through Pull Requests
2. Minimum required approvals: 1
3. CI checks MUST pass
4. No direct commits to protected branches (main, develop)
5. Branch MUST be up to date before merging
6. Delete branch after merge

## Branch Protection Rules

### main & develop
- Require pull request reviews
- Require status checks to pass
- Require branches to be up to date
- Include administrators in restrictions
- NO force pushes
- NO deletions

## Release Process

1. Create release branch from develop
2. Bump version numbers
3. Fix release-specific issues
4. Create PR to main
5. After merge to main:
   - Tag the release
   - Merge back into develop
   - Delete release branch

## Hotfix Process

1. Create hotfix branch from main
2. Fix the issue
3. Bump patch version
4. Create PR to main
5. After merge to main:
   - Tag the release
   - Merge back into develop
   - Delete hotfix branch
